<!DOCTYPE html>
<html lang="ru">
  <head>
    <title>Galène</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="ScreenOrientation" content="autoRotate:disabled">
    <link href="/../assets/ico/icon.png" rel="shortcut icon" type="image/png">
    <link rel="stylesheet" type="text/css" href="/common.css"/>
    <link rel="stylesheet" type="text/css" href="/galene.css"/>
    <link rel="author" href="https://www.irif.fr/~jch/"/>
    <link rel="stylesheet" type="text/css" href="/third-party/fontawesome/css/fontawesome.min.css"/>
    <link rel="stylesheet" type="text/css" href="/third-party/fontawesome/css/solid.min.css"/>
    <link rel="stylesheet" type="text/css" href="/third-party/fontawesome/css/regular.min.css"/>
    <link rel="stylesheet" type="text/css" href="/third-party/toastify/toastify.css"/>
    <link rel="stylesheet" type="text/css" href="/third-party/contextual/contextual.css"/>
    <link rel="stylesheet" type="text/css" href="/third-party/noto-galene/css/noto-galene.css"/>
  </head>

  <body>
    <div id="main" class="app">
      <div class="row full-height">
        <nav id="left-sidebar">
          <div class="users-header">
            <div class="galene-header">Участники</div>
          </div>
          <div class="header-sep"></div>
          <div id="users"></div>
        </nav>
        <div class="container">
          <header>
            <nav class="topnav navbar navbar-expand navbar-light fixed-top">
              <div id="header">
                <div class="collapse" title="Свернуть панель" id="sidebarCollapse">
                  <i class="fas fa-align-left" aria-hidden="true"></i>
                </div>
                <h1 id="title" class="header-title">Galène</h1>
              </div>

              <ul class="nav-menu">
                <li>
                  <button id="presentbutton" class="invisible btn btn-success">
                    <i class="fas fa-play" aria-hidden="true"></i><span class="nav-text"> Включить</span>
                  </button>
                </li>
                <li>
                  <button id="unpresentbutton" class="invisible btn btn-cancel">
                    <i class="fas fa-stop" aria-hidden="true"></i><span class="nav-text"> Отключить</span>
                  </button>
                </li>
                <li>
                  <div id="mutebutton" class="nav-link nav-button">
                    <span><i class="fas fa-microphone-slash" aria-hidden="true"></i></span>
                    <label>Отключить микрофон</label>
                  </div>
                </li>
                <li>
                  <div id="sharebutton" class="invisible nav-link nav-button">
                    <span><i class="fas fa-share-square" aria-hidden="true"></i></span>
                    <label>Демонстрация экрана</label>
                  </div>
                </li>
                <li>
                  <div class="nav-button nav-link nav-more" id="openside">
                    <span><i class="fas fa-ellipsis-v" aria-hidden="true"></i></span>
                  </div>
                </li>
              </ul>
            </nav>
          </header>
          <div class="row full-width" id="mainrow">
            <div class="coln-left" id="left">
              <div id="chat">
                <div id="chatbox">
                  <div class="close-chat" id="close-chat"  title="Скрыть чат">
                    <span class="close-icon"></span>
                  </div>
                  <div id="box"></div>
                  <div class="reply">
                    <form id="inputform">
                      <textarea id="input" class="form-reply"></textarea>
                      <button id="additionalEmojiButton" class="additional-emoji-button">&#128578;</button>
                      <input id="inputbutton" type="submit" value="&#10148;" class="btn btn-default"/>
                    </form>
                  </div>
                  <div id="additionalEmojiPopup" class="additional-emoji-popup">
                    <div class="additional-emoji-content">
                      <div class="emoji" data-emoji-set="&#128077;">&#128077;</div>
                      <div class="emoji" data-emoji-set="&#128079;">&#128079;</div>
                      <div class="emoji" data-emoji-set="&#128076;">&#128076;</div>
                      <div class="emoji" data-emoji-set="&#129304;">&#129304;</div>
                      <div class="emoji" data-emoji-set="&#129309;">&#129309;</div>
                      <div class="emoji" data-emoji-set="&#10084;&#65039;">&#10084;&#65039;</div>
                      <div class="emoji" data-emoji-set="&#128522;">&#128522;</div>
                      <div class="emoji" data-emoji-set="&#128512;">&#128512;</div>
                      <div class="emoji" data-emoji-set="&#128514;">&#128514;</div>
                      <div class="emoji" data-emoji-set="&#129315;">&#129315;</div>
                      <div class="emoji" data-emoji-set="&#128561;">&#128561;</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div id="resizer"></div>
            <div class="coln-right" id="right">
              <span class="show-video blink invisible" id="show-video">
                <i class="fas fa-exchange-alt" aria-hidden="true"></i>
              </span>
              <div class="chat-btn show-chat invisible" id="show-chat">
                <i class="far fa-comment-alt icon-chat" title="Показать чат"></i>
              </div>
              <div class="chat-btn collapse-video invisible" id="collapse-video">
                <i class="far fa-comment-alt icon-chat" title="Скрыть видео и показать чат"></i>
              </div>
              <div class="video-container invisible" id="video-container">
                <div id="expand-video" class="expand-video">
                  <div id="peers"></div>
                </div>
              </div>
              <div id="captions-container" class="invisible">
                <div id="captions"></div>
              </div>
              <div class="login-container invisible" id="login-container">
                <div class="login-box">
                  <form id="loginform" class="loginform">
                    <div id="userform">
                      <label for="username">Имя пользователя:</label>
                      <input id="username" type="text" name="username"
                             autocomplete="username" class="form-control"/>
                    </div>
                    <div id="passwordform">
                      <label for="password">Пароль:</label>
                      <input id="password" type="password" name="password"
                             autocomplete="current-password" class="form-control"/>
                    </div>
                    <label>Включить при запуске:</label>
                    <div class="present-switch">
                      <p class="switch-radio">
                        <input id="presentboth" type="radio" name="presentradio" value="both" checked/>
                        <label for="presentboth">Камера и микрофон</label>
                      </p>
                      <p class="switch-radio">
                        <input id="presentcam" type="radio" name="presentradio" value="cam"/>
                        <label for="presentcam">Только камера</label>
                      </p>
                      <p class="switch-radio">
                        <input id="presentmike" type="radio" name="presentradio" value="mike"/>
                        <label for="presentmike">Только микрофон</label>
                      </p>
                      <p class="switch-radio">
                        <input id="presentoff" type="radio" name="presentradio" value=""/>
                        <label for="presentoff">Ничего</label>
                      </p>
                    </div>
                    <div class="clear"></div>
                    <div class="connect">
                      <input id="connectbutton" type="submit" class="btn btn-blue" value="Подключиться"/>
                    </div>
                  </form>
                  <div class="clear"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="sidebarnav" class="sidenav">
      <div class="sidenav-header">
        <h2>Настройки</h2>
        <a class="closebtn" id="clodeside"><i class="fas fa-times" aria-hidden="true"></i></a>
      </div>
      <div class="sidenav-content" id="optionsdiv">
        <div id="profile" class="profile invisible">
          <div class="profile-user">
            <div class="profile-logo">
              <span><i class="fas fa-user" aria-hidden="true"></i></span>
            </div>
            <div class="profile-info">
              <span id="userspan"></span>
              <span id="permspan"></span>
              <span id="chpwspan" class="invisible"><a id="change-password">Изменить пароль</a></span>
            </div>
            <div class="user-logout">
              <a id="disconnectbutton">
                <span class="logout-icon"><i class="fas fa-sign-out-alt"></i></span>
                <span class="logout-text">Выйти</span>
              </a>
            </div>
          </div>
        </div>
        <div id="mediaoptions" class="invisible">
          <fieldset>
            <legend>Настройки медиа</legend>
            <label for="videoselect" class="sidenav-label-first">Камера:</label>
            <select id="videoselect" class="select select-inline">
              <option value="">выключено</option>
            </select>

            <label for="audioselect" class="sidenav-label">Микрофон:</label>
            <select id="audioselect" class="select select-inline">
              <option value="">выключено</option>
            </select>

            <form>
              <input id="mirrorbox" type="checkbox" checked/>
              <label for="mirrorbox">Отразить вид</label>
            </form>

            <form>
              <input id="blackboardbox" type="checkbox"/>
              <label for="blackboardbox">Увеличить разрешение</label>
            </form>

            <form>
              <input id="preprocessingbox" type="checkbox"/ checked>
              <label for="preprocessingbox">Шумоподавление</label>
            </form>

            <form>
              <input id="hqaudiobox" type="checkbox"/>
              <label for="hqaudiobox">Высококачественный звук</label>
            </form>
          </fieldset>

          <fieldset id="recordFieldset">
            <legend>Запись экрана</legend>
            <span id="recordStatus"></span>
            <button class="recordBtn" id="recordStart">Начать запись</button>
            <button class="recordBtn" id="recordPause" disabled>Приостановить</button>
            <button class="recordBtn" id="recordStop" disabled>Остановить</button>
            <button class="recordBtn" id="recordSave" disabled>Сохранить</button>
          </fieldset>
        </div>

        <fieldset>
          <legend>Прочие настройки</legend>

          <form id="filterform">
            <label for="filterselect" class="sidenav-label-first">Фильтр:</label>
            <select id="filterselect" class="select select-inline">
              <option value="" selected>нет</option>
            </select>
          </form>

          <form id="sendform">
            <label for="sendselect" class="sidenav-label-first">Уровень отправки:</label>
            <select id="sendselect" class="select select-inline">
              <option value="lowest">наименьший</option>
              <option value="low">низкий</option>
              <option value="normal" selected>нормальный</option>
              <option value="unlimited">неограниченный</option>
            </select>
          </form>

          <form id="simulcastform">
            <label for="simulcastselect" class="sidenav-label-first">Simulcast:</label>
            <select id="simulcastselect" class="select select-inline">
              <option value="off">выключено</option>
              <option value="auto" selected>авто</option>
              <option value="on">включено</option>
            </select>
          </form>

          <form id="requestform">
            <label for="requestselect" class="sidenav-label">Получать:</label>
            <select id="requestselect" class="select select-inline">
              <option value="">ничего</option>
              <option value="audio">только аудио</option>
              <option value="screenshare">только демонстрация экрана</option>
              <option value="everything-low">низкое качество</option>
              <option value="everything" selected>всё</option>
            </select>
          </form>

          <form>
            <input id="activitybox" type="checkbox"/>
            <label for="activitybox">Обнаружение активности</label>
          </form>

          <form>
            <input id="displayallbox" type="checkbox"/>
            <label for="displayallbox">Показывать только пользователей c аудио</label>
          </form>
        </fieldset>
      </div>
    </div>

    <div id="videocontrols-template" class="invisible">
      <div class="video-controls vc-overlay">
        <div class="controls-button controls-left">
          <span class="video-play" title="Воспроизвести видео">
            <i class="fas fa-play"></i>
          </span>
          <span class="volume" title="Громкость">
            <i class="fas fa-volume-up volume-mute" aria-hidden="true"></i>
            <input class="volume-slider" type="range" max="100" value="100" min="0" step="5" >
          </span>
        </div>
        <div class="controls-button controls-right">
          <span class="pip" title="Картинка в картинке">
            <i class="far fa-clone" aria-hidden="true"></i>
          </span>
          <span class="fullscreen" title="На весь экран">
            <i class="fas fa-expand" aria-hidden="true"></i>
          </span>
        </div>
      </div>
    </div>
    <div id="topvideocontrols-template" class="invisible">
      <div class="top-video-controls">
        <div class="controls-button controls-right">
          <span class="close-icon video-stop" title="Остановить видео">
          </span>
        </div>
      </div>
    </div>

    <dialog id="invite-dialog">
      <form method="dialog">
        <label for="invite-username">Имя пользователя (необязательно):</label>
        <input id="invite-username" type="text"/>
        <br>
        <label for="invite-not-before">Действительно с:</label>
        <input id="invite-not-before" type="datetime-local"/>
        <br>
        <label for="invite-expires">Действительно до:</label>
        <input id="invite-expires" type="datetime-local"/>
        <br>
        <button id="invite-cancel" value="cancel" type="button">Отмена</button>
        <button value="invite" value="invite">Пригласить</button>
      </form>
    </dialog>

    <script src="/protocol.js" defer></script>
    <script src="/third-party/toastify/toastify.js" defer></script>
    <script src="/third-party/contextual/contextual.js" defer></script>
    <script src="/galene.js" defer></script>
    <script src="/rec.js" defer></script>
    <script src="/emoji.js" defer></script>
  </body>
</html>